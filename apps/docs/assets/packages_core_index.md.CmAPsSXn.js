import { o as a, ae as e, _ as i, c as t } from './chunks/framework.9XX48Qcy.js';

const c = JSON.parse(
    '{"title":"@otterseal/core","description":"","frontmatter":{},"headers":[],"relativePath":"packages/core/index.md","filePath":"packages/core/index.md"}',
  ),
  n = { name: 'packages/core/index.md' };
function l(h, s, r, p, k, o) {
  return (
    a(),
    t('div', null, [
      ...(s[0] ||
        (s[0] = [
          e(
            `<h1 id="otterseal-core" tabindex="-1">@otterseal/core <a class="header-anchor" href="#otterseal-core" aria-label="Permalink to &quot;@otterseal/core&quot;">â€‹</a></h1><p><strong>Zero-knowledge cryptography library</strong> for client-side encryption in browsers and Node.js.</p><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">â€‹</a></h2><ul><li>ğŸ” <strong>AES-256-GCM</strong> â€” Authenticated encryption</li><li>ğŸ”‘ <strong>HKDF</strong> â€” Secure key derivation with domain separation</li><li>ğŸ”’ <strong>Zero Knowledge</strong> â€” Keys never leave the client</li><li>ğŸ“ <strong>TypeScript</strong> â€” Fully typed, production-ready</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @otterseal/core</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @otterseal/core</span></span></code></pre></div><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">â€‹</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { deriveKey, encryptNote, decryptNote } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@otterseal/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Derive encryption key from title</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;My Secret Note&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> deriveKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(title)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Encrypt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> encrypted</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encryptNote</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;This is secret&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encrypted) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// base64-encoded ciphertext</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Decrypt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plaintext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> decryptNote</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(encrypted, key)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plaintext) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;This is secret&#39;</span></span></code></pre></div><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">â€‹</a></h2><p>OtterSeal uses <strong>HKDF (HMAC-based Key Derivation Function)</strong> to create two derived values from a single title:</p><h3 id="_1-note-id-public" tabindex="-1">1. Note ID (Public) <a class="header-anchor" href="#_1-note-id-public" aria-label="Permalink to &quot;1. Note ID (Public)&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { hashTitle } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@otterseal/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> noteId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hashTitle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;My Secret Note&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Safe to send to server</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cannot be used to decrypt content</span></span></code></pre></div><h3 id="_2-encryption-key-private" tabindex="-1">2. Encryption Key (Private) <a class="header-anchor" href="#_2-encryption-key-private" aria-label="Permalink to &quot;2. Encryption Key (Private)&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { deriveKey } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@otterseal/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> encKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> deriveKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;My Secret Note&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Never sent to server</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Used for AES-256-GCM encryption</span></span></code></pre></div><h2 id="why-this-design" tabindex="-1">Why This Design? <a class="header-anchor" href="#why-this-design" aria-label="Permalink to &quot;Why This Design?&quot;">â€‹</a></h2><p>The <strong>HKDF domain separation</strong> ensures that even if the server knows your note ID, it <strong>cannot</strong> derive your encryption key:</p><table tabindex="0"><thead><tr><th>Value</th><th>Derivation</th><th>Public?</th><th>Use</th></tr></thead><tbody><tr><td>Note ID</td><td><code>HKDF(title, info=&quot;ID&quot;)</code></td><td>âœ… Yes</td><td>Server database lookup</td></tr><tr><td>Encryption Key</td><td><code>HKDF(title, info=&quot;KEY&quot;)</code></td><td>âŒ No</td><td>Client-side encryption</td></tr></tbody></table><p>This is the foundation of zero-knowledge architecture: <strong>the server stores encrypted data it cannot decrypt</strong>.</p><h2 id="browser-support" tabindex="-1">Browser Support <a class="header-anchor" href="#browser-support" aria-label="Permalink to &quot;Browser Support&quot;">â€‹</a></h2><ul><li>âœ… Chrome 37+</li><li>âœ… Firefox 34+</li><li>âœ… Safari 11+</li><li>âœ… Edge 79+</li><li>âœ… Node.js 15+</li></ul><p>All via the standard Web Crypto API (<code>SubtleCrypto</code>).</p><h2 id="learn-more" tabindex="-1">Learn More <a class="header-anchor" href="#learn-more" aria-label="Permalink to &quot;Learn More&quot;">â€‹</a></h2><ul><li><a href="/packages/core/api.html">API Reference</a> â€” Detailed function documentation</li><li><a href="/packages/core/installation.html">Installation Guide</a> â€” Setup instructions</li></ul>`,
            23,
          ),
        ])),
    ])
  );
}
const y = i(n, [['render', l]]);
export { c as __pageData, y as default };
